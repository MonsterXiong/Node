(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{404:function(t,s,a){"use strict";a.r(s);var n=a(46),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"内置模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内置模块"}},[t._v("#")]),t._v(" 内置模块")]),t._v(" "),a("h2",{attrs:{id:"node-api-操作方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-api-操作方式"}},[t._v("#")]),t._v(" Node API 操作方式")]),t._v(" "),a("p",[t._v("这些 API 大多数都提供三种操作方式：")]),t._v(" "),a("ul",[a("li",[t._v("方式一：同步操作文件：代码会被阻塞，不会继续执行；")]),t._v(" "),a("li",[t._v("方式二：异步回调函数操作文件：代码不会被阻塞，需要传入回调函数，当获取到结果时，回调函数被执行；")]),t._v(" "),a("li",[t._v("方式三：异步 Promise 操作文件：代码不会被阻塞，通过 fs.promises 调用方法操作，会返回一个 Promise 可以通过 then、catch 进行处理")])]),t._v(" "),a("h2",{attrs:{id:"全局对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#全局对象"}},[t._v("#")]),t._v(" 全局对象")]),t._v(" "),a("h3",{attrs:{id:"node-程序传递参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-程序传递参数"}},[t._v("#")]),t._v(" Node 程序传递参数")]),t._v(" "),a("p",[t._v("获取参数其实是在 process 的内置对象中的 argv 属性，是一个数组，包含了参数；")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# index.js就被载入到node里面，node里面有V8引擎，就可以执行js代码，会开启一个进程")]),t._v("\nnode index.js\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("argv"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 第一个node命令所在的路径")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 第二个当前文件所在的路径")]),t._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("为什么叫 argv 呢？")]),t._v(" "),a("p",[t._v("在 C/C++程序中的 main 函数中，实际上可以获取到两个参数；")]),t._v(" "),a("ul",[a("li",[t._v("argc:argument counter 的缩写，传递参数的个数")]),t._v(" "),a("li",[t._v("argv：argument vector 的缩写，传入的具体参数\n"),a("ul",[a("li",[t._v("vector 翻译过来是矢量的意思，在程序中表示的是一种数据结构。")]),t._v(" "),a("li",[t._v("在 C++、Java 中都有这种数据结构，是一种数组结构")]),t._v(" "),a("li",[t._v("在 JavaScript 中也是一个数组，里面存储一些参数信息")])])])])]),t._v(" "),a("h3",{attrs:{id:"node-的输出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-的输出"}},[t._v("#")]),t._v(" Node 的输出")]),t._v(" "),a("ul",[a("li",[t._v("console.log 最常用的输出内容的方式")]),t._v(" "),a("li",[t._v("console.clear 清空控制台")]),t._v(" "),a("li",[t._v("console.trace 打印函数的调用栈")])]),t._v(" "),a("h3",{attrs:{id:"常见的全局对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常见的全局对象"}},[t._v("#")]),t._v(" 常见的全局对象")]),t._v(" "),a("p",[t._v("全局对象：在任何位置都可以访问到。")]),t._v(" "),a("p",[a("strong",[t._v("process 对象")]),t._v("：process 提供了 Node 进程中相关的信息，比如 Node 的运行环境、参数信息，我们还可以将一些环境变量读取到 process 的 env 中。")]),t._v(" "),a("p",[a("strong",[t._v("console 对象")]),t._v("：提供了简单的调试控制台")]),t._v(" "),a("p",[a("strong",[t._v("定时器函数")]),t._v("：")]),t._v(" "),a("ul",[a("li",[t._v("setTimeout(callback,delay[,...args]):callback 在 delay 毫秒后运行一次")]),t._v(" "),a("li",[t._v("setInterval(callback,delay[,...args])：callback 每 delay 毫秒重复执行一次")]),t._v(" "),a("li",[t._v('setImmediate(callback[,...args])：callback I/O 时间后的回调的"立即"执行')]),t._v(" "),a("li",[t._v("process.nextTick(callback[,...args])：添加到下一次 tick 队列中")])]),t._v(" "),a("p",[t._v("还有取消定时器函数")]),t._v(" "),a("p",[a("strong",[t._v("global 对象")]),t._v("：")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("小技巧")]),t._v(" "),a("p",[t._v("去 Node 的 REPL 下输入"),a("code",[t._v("global.")]),t._v("按两下"),a("code",[t._v("Tab")]),t._v("可以看到 global 下的属性。")])]),t._v(" "),a("p",[t._v("global 和 window 的区别")]),t._v(" "),a("ul",[a("li",[t._v("在浏览器中，全局变量都是在 window 上的，比如有 document、setInterval、alert、console 等等。")]),t._v(" "),a("li",[t._v("在 Node 中，我们也有一个 global 属性，里面有很多其他属性。")]),t._v(" "),a("li",[t._v("但是在浏览器中执行 JS 代码，如果在顶级范围内通过 var 定义一个属性，默认会被添加到 window 对象上")]),t._v(" "),a("li",[t._v("但是在 node 中，我们通过 var 定义一个变量，它只是在当前模块中有一个变量，不会放到全局中。")])]),t._v(" "),a("p",[t._v("因为浏览器没有模块的概念。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Monster"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Monster")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//undefine")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 举例：源码手动把 process 挂载到了 global 对象上")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" _process "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ObjectDefineProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("global"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"process"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" _process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    _process "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  enumerble"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  configurable"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"特殊的全局对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特殊的全局对象"}},[t._v("#")]),t._v(" 特殊的全局对象：")]),t._v(" "),a("p",[t._v("这些全局对象实际上是模块中的变量，只是每个模块都有，看起来像是全局变量，在命令交互行是不可以使用的。它是每个模块都有的")]),t._v(" "),a("p",[t._v("其中包括：")]),t._v(" "),a("ul",[a("li",[t._v("__dirname：当前文件所在目录的绝对路径（不包括后面的文件名）。")]),t._v(" "),a("li",[t._v("__filename:当前文件所在的绝对路径（含后面的文件名称）。")]),t._v(" "),a("li",[t._v("exports")]),t._v(" "),a("li",[t._v("module")]),t._v(" "),a("li",[t._v("require()")])])])}),[],!1,null,null,null);s.default=e.exports}}]);